namespace = sdarkages

#maintenance event for not more than 5 amount of vassal with the modifier, fired from player Liege.# Yearly pulsed event
character_event = {
	id = sdarkages.001
	title = statesdarkages
	hide_window = yes
	is_triggered_only = yes
	#Cardolan
	only_playable = yes
	war = no
	
		
		
	trigger = {
		is_feudal = yes
		#Cardolam
		higher_real_tier_than = BARON
	}
	
	immediate = {
		
		any_vassal = {
			limit = {
				has_character_modifier = granted_priviligues
				NOR = {
					AND = {
						liege = { real_tier = COUNT }
						among_most_powerful_vassals = 2
					}
					AND = {
						liege = { real_tier = DUKE }
						among_most_powerful_vassals = 2
					}
					AND = {
						liege = { real_tier = KING }
						among_most_powerful_vassals = 5
					}
					AND = {
						liege = { real_tier = EMPEROR }
						among_most_powerful_vassals = 6
					}
				}
			}
			character_event = { id = sdarkages.013 } #event for vassal to remove modifier for losing powerful status
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT
				NOR = {
					has_character_modifier = liege_granted_priviligues_1
					has_character_modifier = liege_granted_priviligues_2
					has_character_modifier = liege_granted_priviligues_3
					has_character_modifier = liege_granted_priviligues_4
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}
			
			random_list = {
				3 = {
				#Cardolam
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					
					#Cardolam
					modifier = {
						factor = 2
						trait = charitable
					}					
					
					random_vassal = {
						limit = {
							#Cardolam
							OR = {
								AND = {
									among_most_powerful_vassals = 2
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { NOT = { higher_real_tier_than = DUKE } }
								}
								AND = {
									among_most_powerful_vassals = 5
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = KING }
								}
								AND = {
									among_most_powerful_vassals = 6
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = EMPEROR }
								}								
							}
						}
						add_character_modifier = { 
							name = granted_priviligues 
							duration = -1 
							inherit = yes
						}
					}
					apply_liege_priviligues = yes
				}
				
				12 = { 
				#Cardolam
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = greedy
					}					
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT			
				has_character_modifier = liege_granted_priviligues_1
			}
			
			random_list = {
				#Cardolam
				2 = {
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = charitable
					}
					modifier = {
						factor = 3
						NOT = { learning = 4 }
					}					
					
					random_vassal = {
						limit = {
							OR = {
								AND = {
									among_most_powerful_vassals = 2
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { NOT = { higher_real_tier_than = DUKE } }
								}
								AND = {
									among_most_powerful_vassals = 5
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = KING }
								}
								AND = {
									among_most_powerful_vassals = 6
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = EMPEROR }
								}								
							}
						}
						add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
					}
					apply_liege_priviligues = yes
				}
				
				2 = {
					#Cardolam				
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				12 = { #do nothing
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT
				#is_landed = yes								
				has_character_modifier = liege_granted_priviligues_2
			}
			
			random_list = {
				4 = {
					#Cardolam
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 0
						NOT = { higher_real_tier_than = DUKE }
					}					
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = charitable
					}					
					modifier = {
						factor = 3
						NOT = { learning = 4 }
					}
					random_vassal = {
						limit = {
							#Cardolam						
							OR = {
								AND = {
									among_most_powerful_vassals = 2
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { NOT = { higher_real_tier_than = DUKE } }
								}
								AND = {
									among_most_powerful_vassals = 5
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = KING }
								}
								AND = {
									among_most_powerful_vassals = 6
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = EMPEROR }
								}								
							}
						}
						add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
					}
					apply_liege_priviligues = yes
				}
				
				5 = { 
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				15 = { 
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT	
				has_character_modifier = liege_granted_priviligues_3
			}
			
			random_list = {
				3 = {
					#Cardolan
					modifier = {
						factor = 0
						NOT = { higher_real_tier_than = DUKE }
					}
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = charitable
					}					
					modifier = {
						factor = 3
						NOT = { learning = 4 }
					}
					random_vassal = {
						limit = {
							OR = {
								AND = {
									among_most_powerful_vassals = 2
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { NOT = { higher_real_tier_than = DUKE } }
								}
								AND = {
									among_most_powerful_vassals = 5
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = KING }
								}
								AND = {
									among_most_powerful_vassals = 6
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = EMPEROR }
								}								
							}
						}
						add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
					}
					apply_liege_priviligues = yes
				}
				
				4 = {
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				13 = { 
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT			
				has_character_modifier = liege_granted_priviligues_4
			}
			
			random_list = {
				2 = {
					#Cardolan
					modifier = {
						factor = 0
						NOT = { higher_real_tier_than = DUKE }
					}					
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					#Cardolam
					modifier = {
						factor = 2
						trait = charitable
					}					
					modifier = {
						factor = 3
						NOT = { learning = 4 }
					}
					random_vassal = {
						limit = {
							OR = {
								AND = {
									among_most_powerful_vassals = 2
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { NOT = { higher_real_tier_than = DUKE } }
								}
								AND = {
									among_most_powerful_vassals = 5
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = KING }
								}
								AND = {
									among_most_powerful_vassals = 6
									NOT = { has_character_modifier = granted_priviligues }
									is_feudal = yes
									liege = { real_tier = EMPEROR }
								}								
							}
						}
						add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
					}
					apply_liege_priviligues = yes
				}
				
				3 = { 
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				12 = { 
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT				
				has_character_modifier = liege_granted_priviligues_5
				is_feudal = yes
			}
			
			random_list = {
				
				2 = {
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				10 = { 
				}
			}
		}
		
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT
				has_character_modifier = liege_granted_priviligues_5
			}
			
			random_list = {
				1 = {
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = weak
					#}
					modifier = {
						factor = 3
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = dull
					}
					modifier = {
						factor = 1.5
						trait = absentminded
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = charitable
					}					
					modifier = {
						factor = 3
						NOT = { learning = 4 }
					}
					random_vassal = {
						limit = {
							among_most_powerful_vassals = 6
							NOT = { has_character_modifier = granted_priviligues }
							is_feudal = yes
						}
						add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
					}
					apply_liege_priviligues = yes
				}
				
				4 = { 
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				13 = { 
				}
			}
		}
		
				
		if = {
			limit = {
				ai = yes
				independent = yes
				#higher_real_tier_than = COUNT
				has_character_modifier = liege_granted_priviligues_6
				is_feudal = yes
			}
		
			random_list = {
				3 = { 
					#Cardolan
					#modifier = {
					#	factor = 2
					#	trait = strong
					#}
					modifier = {
						factor = 2
						trait = quick
					}
					modifier = {
						factor = 3
						trait = genius
					}
					modifier = {
						factor = 1.5
						trait = bright
					}
					modifier = {
						factor = 2
						trait = shrewd
					}
					#Cardolan
					modifier = {
						factor = 2
						trait = greedy
					}					
					modifier = {
						factor = 2
						learning = 12
					}
					random_vassal = {
						limit = {
							has_character_modifier = granted_priviligues
						}
						remove_character_modifier = granted_priviligues
					}
					apply_liege_priviligues_2 = yes
				}
				
				11 = { 
				}
			}
		}
	}
}

#################################################################################################################
### Maintenance event for liege to check how many vassals have the modifier and apply the correct one to him. ###
### Needed to check for vassals losing power status, getting conquered, outside realm inheritances, etc.      ###
#################################################################################################################

character_event = {
	id = sdarkages.002
	title = statesdarkages
	hide_window = yes
	only_playable = yes
	is_triggered_only = yes
		
	
	trigger = {
		is_landed = yes
		is_feudal = yes
		#higher_real_tier_than = COUNT
		OR = {
			has_character_flag = liege_granted_priviliges
			any_vassal = { has_character_modifier = granted_priviligues }
		}
	}
	
		
	immediate = {
		set_variable = { which = priviligues value = 0 }		
		if = {
			limit = {
				any_vassal = {
					count = 1
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 2
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 1 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 2
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 3
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 2 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 3
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 4
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 3 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 4
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 5
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 4 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 5
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 6
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 5 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 6
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 7
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 6 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 7
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 8
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 7 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 8
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 9
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 8 }
			apply_priviligues = yes
			
		}
		
		else_if = {
			limit = {
				any_vassal = {
					count = 9
					has_character_modifier = granted_priviligues 
				}
				NOT = {
					any_vassal = {
						count = 10
						has_character_modifier = granted_priviligues 
					}
				}
			}
			change_variable = { which = priviligues value = 9 }
			apply_priviligues = yes
			
		}
				
		else = { 
			apply_priviligues = yes
			clr_character_flag = liege_granted_priviliges
			
		}
	}
	
}
		
		
#event for AI vs player only MTTH. Demand or ask land.

character_event = {
	id = sdarkages.003
	title = statesdarkages
	desc = EVTHSDARKAGES103
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	#only_playable = yes
	ai = yes
	min_age = 16
	capable_only = yes
	prisoner = no
		
	trigger = {
		liege = { ai = no }
		#higher_real_tier_than = BARON
		NOT = { has_character_modifier = granted_priviligues }
		liege = {
			prisoner = no
			is_incapable = no
			war = no
		}
		is_feudal = yes
		OR = {
			#Cardolam (Inserted these 4 lines)
			AND = {
				liege = { real_tier = COUNT }
				among_most_powerful_vassals = 2
			}		
			AND = {
				liege = { real_tier = DUKE }
				among_most_powerful_vassals = 2
			}
			AND = {
				liege = { real_tier = KING }
				among_most_powerful_vassals = 5
			}
			AND = {
				liege = { real_tier = EMPEROR }
				among_most_powerful_vassals = 6
			}
		}			
	}

	
	mean_time_to_happen = {
		months = 480
		
			modifier = {
				factor = 0.5
				trait = ambitious
			}
			modifier = {
				factor = 0.75
				trait = wroth
			}
			modifier = {
				factor = 2 
				trait = humble
			}
			modifier = {
				factor = 0.66 
				trait = greedy
			}
			modifier = {
				factor = 0.7 
				trait = envious
			}
			modifier = {
				factor = 4
				trait = content
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 0.75
				trait = brave
			}
			modifier = {
				factor = 2
				trait = just
			}
			#Cardolan
			modifier = {
				factor = 0.75
				has_character_flag = hadpriviligestahl
			}
			modifier = {
				factor = 1.5
				NOT = { relative_power_to_liege = 0.20 }
			}
			modifier = {
				factor = 2
				NOT = { relative_power_to_liege = 0.15 }
			}
			modifier = {
				factor = 3
				NOT = { relative_power_to_liege = 0.10 }
			}
			#Cardolan
			modifier = {
				 factor = 0.8
				 relative_power_to_liege = 0.30
			}
			modifier = {
				 factor = 0.7
				 relative_power_to_liege = 0.40
			}
			modifier = {
				 factor = 0.5
				 relative_power_to_liege = 0.45
			}
			
	}
	
	immediate = { set_character_flag = dont_exploit_noob }
	
	option = { #DEMAND LAND
		name = EVTOPTIONHDARKAGESA003
		ai_chance = {
		
			factor = 1
			modifier = {
				factor = 0
				NOT = { relative_power_to_liege = 0.15 }
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.20
				NOT = { relative_power_to_liege = 0.30 }
			}
			modifier = {
				factor = 2
				relative_power_to_liege = 0.30
				NOT = { relative_power_to_liege = 0.40 }
			}
			modifier = {
				factor = 2.5
				relative_power_to_liege = 0.40
				NOT = { relative_power_to_liege = 0.50 }
			}
			modifier = {
				factor = 3.5
				relative_power_to_liege = 0.50
				NOT = { relative_power_to_liege = 0.60 }
			}
			
			modifier = {
				factor = 3
				trait = ambitious
				NOT = { trait = brave }				
			}
			modifier = {
				factor = 1.75
				trait = brave
				NOT = { trait = ambitious }
			}
			modifier = {
				factor = 10
				trait = brave
				trait = ambitious
			}			
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 1.5 
				trait = envious
			}
			modifier = {
				factor = 1.5
				has_opinion_modifier = { who = liege modifier = refused_priviliges_2 }
			}
			modifier = {
				factor = 2.5
				has_opinion_modifier = { who = liege modifier = refused_priviligues_1 }
			}
			modifier = {
				factor = 2
				has_character_flag = hadpriviligestahl
			}
		}
					
		hidden_tooltip = { liege = { character_event = { id = sdarkages.004 days = 10 random = 10 } } }
	}
	
	
	option = { #ASK LAND
		name = EVTOPTIONHDARKAGESB003
		ai_chance = {
			#Cardolam
			factor = 10
			modifier = {
				factor = 3
				trait = content
			}
			modifier = {
				factor = 3
				trait = craven
			}
			modifier = {
				factor = 2.5
				trait = humble
			}
			modifier = {
				factor = 2
				trait = kind
			}			
		}		
		
		hidden_tooltip = { liege = { character_event = { id = sdarkages.005 days = 10 random = 10 } } }
	}
}



#liege get's demanded land	
character_event = {
	id = sdarkages.004
	desc = EVTHSDARKAGES004
	title = DARKAGESTATES004
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	is_triggered_only = yes
	trigger = {
		higher_real_tier_than = BARON
		
		NOR = {
			has_character_modifier = liege_granted_priviligues_6
			AND = { 
				real_tier = COUNT
				OR = {
					has_character_modifier = liege_granted_priviligues_2
					has_character_modifier = liege_granted_priviligues_3
					has_character_modifier = liege_granted_priviligues_4
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}			
							
			AND = { 
				real_tier = DUKE
				OR = {
					has_character_modifier = liege_granted_priviligues_2
					has_character_modifier = liege_granted_priviligues_3
					has_character_modifier = liege_granted_priviligues_4
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}
			AND = { 
				real_tier = KING
				OR = {
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}
		}
	}
	
	option = { #give land
		name = EVTOPTIONHDARKAGESA004
		
		FROM = {	
			add_character_modifier = {
				name = granted_priviligues
				duration = -1
				inherit = yes
			}
		}
		
		apply_liege_priviligues = yes 
		#Cardolan
		if = {
			limit = {
				NOT = { learning = 2 }
			}
			set_truce = { who = FROM years = 4 }
			FROM = { set_truce = { who = ROOT years = 4 } }
		}
		if = {
			limit = {
				learning = 2 
				NOT = { learning = 4 }
			}
			set_truce = { who = FROM years = 5 }
			FROM = { set_truce = { who = ROOT years = 5 } }
		}
		if = {
			limit = {
				learning = 4 
				NOT = { learning = 6 }
			}
			set_truce = { who = FROM years = 6 }
			FROM = { set_truce = { who = ROOT years = 6 } }
		}
		if = {
			limit = {
				learning = 6
				NOT = { learning = 8 }
			}
			set_truce = { who = FROM years = 6 }
			FROM = { set_truce = { who = ROOT years = 6 } }
		}
		if = {
			limit = {
				learning = 8
				NOT = { learning = 12 }
			}
			set_truce = { who = FROM years = 7 }
			FROM = { set_truce = { who = ROOT years = 7 } }
		}
		if = {
			limit = {
				learning = 12
				NOT = { learning = 15 }
			}
			set_truce = { who = FROM years = 8 }
			FROM = { set_truce = { who = ROOT years = 8 } }
		}
		if = {
			limit = {
				learning = 15
				NOT = { learning = 18 }
			}
			set_truce = { who = FROM years = 9 }
			FROM = { set_truce = { who = ROOT years = 9 } }
		}
		if = {
			limit = {
				learning = 18
				NOT = { learning = 21 }
			}
			set_truce = { who = FROM years = 10 }
			FROM = { set_truce = { who = ROOT years = 10 } }
		}	
		if = {
			limit = {
				learning = 21
			}
			set_truce = { who = FROM years = 12 }
			FROM = { set_truce = { who = ROOT years = 12 } }
		}		
		set_character_flag = liege_granted_priviliges
		
	}
	
	option = { #refuse land
		name = EVTOPTIONHDARKAGESB004

		FROM = {	 
			opinion = {
			#Cardolan
				modifier = refused_priviligues_1   ##around -25 opinion
				who = ROOT
				years = 15
			}
		}
		
		FROM = { set_character_flag = revoked_request }
		
		if = {
			limit = {
				ai = no
				FROM = { ai = yes }
			}
		
			random = {
				chance = 10 
				modifier = {
					factor = 1.5
					FROM = { has_opinion_modifier = { who = liege modifier = refused_priviligues_1 } }
				}
				modifier = {
					factor = 2
					FROM = { trait = ambitious }
				}
				modifier = {
				#Cardolan
					factor = 1.25
					FROM = { trait = brave }
				}				
				modifier = {
					factor = 0.2
					FROM = { trait = content }
				}				
				modifier = {
					factor = 0.1
					FROM = { trait = craven }
				}
				modifier = {
					factor = 1.25
					FROM = { relative_power_to_liege = 0.15 }
				}
				modifier = {
					factor = 1.25
					FROM = { relative_power_to_liege = 0.20 }
				}				
				modifier = {
					factor = 1.25
					FROM = { relative_power_to_liege = 0.25 }
				}
				
				FROM = { character_event = { id = sdarkages.07 } }  	#Event to spawn special troops
				
				FROM = { unsafe_war = { target = ROOT casus_belli = bid_for_independence } } 	#rebel
				letter_event = { id = sdarkages.015 days = 1 }
			}
		}

	}
	
	after = { FROM = { clr_character_flag = dont_exploit_noob } }
	
}
	
#liege get's asked land	
character_event = {
	id = sdarkages.005
	desc = EVTHSDARKAGES005
	title = DARKAGESTATES005
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	is_triggered_only = yes
		
	trigger = {
		higher_real_tier_than = BARON
		NOR = {
			has_character_modifier = liege_granted_priviligues_6
			AND = { 
				real_tier = COUNT
				OR = {
					has_character_modifier = liege_granted_priviligues_2
					has_character_modifier = liege_granted_priviligues_3
					has_character_modifier = liege_granted_priviligues_4
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}			
							
			AND = { 
				real_tier = DUKE
				OR = {
					has_character_modifier = liege_granted_priviligues_2
					has_character_modifier = liege_granted_priviligues_3
					has_character_modifier = liege_granted_priviligues_4
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}
			AND = { 
				real_tier = KING
				OR = {
					has_character_modifier = liege_granted_priviligues_5
					has_character_modifier = liege_granted_priviligues_6
				}
			}
		}
	}
	
	option = { #give land
		name = EVTOPTIONHDARKAGESA005
		FROM = {	
			add_character_modifier = {
				name = granted_priviligues
				duration = -1
				inherit = yes
			}
			opinion = {
				who = ROOT
				modifier = gave_me_priviligues
				years = 20
			}
		}
		
		apply_liege_priviligues = yes 
		
		
		#Cardolan
		if = {
			limit = {
				NOT = { learning = 2 }
			}
			set_truce = { who = FROM years = 6 }
			FROM = { set_truce = { who = ROOT years = 6 } }
		}
		if = {
			limit = {
				learning = 2 
				NOT = { learning = 4 }
			}
			set_truce = { who = FROM years = 7 }
			FROM = { set_truce = { who = ROOT years = 7 } }
		}
		if = {
			limit = {
				learning = 4 
				NOT = { learning = 6 }
			}
			set_truce = { who = FROM years = 8 }
			FROM = { set_truce = { who = ROOT years = 8 } }
		}
		if = {
			limit = {
				learning = 6
				NOT = { learning = 8 }
			}
			set_truce = { who = FROM years = 9 }
			FROM = { set_truce = { who = ROOT years = 9 } }
		}
		if = {
			limit = {
				learning = 8
				NOT = { learning = 12 }
			}
			set_truce = { who = FROM years = 10 }
			FROM = { set_truce = { who = ROOT years = 10 } }
		}
		if = {
			limit = {
				learning = 12
				NOT = { learning = 15 }
			}
			set_truce = { who = FROM years = 11 }
			FROM = { set_truce = { who = ROOT years = 11 } }
		}
		if = {
			limit = {
				learning = 15
				NOT = { learning = 18 }
			}
			set_truce = { who = FROM years = 12 }
			FROM = { set_truce = { who = ROOT years = 12 } }
		}
		if = {
			limit = {
				learning = 18
				NOT = { learning = 21 }
			}
			set_truce = { who = FROM years = 13 }
			FROM = { set_truce = { who = ROOT years = 13 } }
		}	
		if = {
			limit = {
				learning = 21
			}
			set_truce = { who = FROM years = 15 }
			FROM = { set_truce = { who = ROOT years = 15 } }
		}
		
		
		set_character_flag = liege_granted_priviliges
	}
	
	option = { #refuse land
		name = EVTOPTIONHDARKAGESB005
		FROM = {
			opinion = {
				modifier = refused_priviliges_2
				who = ROOT
				years = 15
			}
		}
		FROM = { set_character_flag = revoked_request }
		
	}
	after = { FROM =  { clr_character_flag = dont_exploit_noob } }
}




#event fired from targeted decision of revoking#

character_event = {
	id = sdarkages.006
	desc = EVTHSDARKAGES006
	title = DARKAGESTATES006
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	is_triggered_only = yes

	immediate = {
		set_character_flag = dont_exploit_noob_2
	}
		
	option = { #special option
		name = EVTOPTIONHDARKAGESC006
		trigger = { 
			learning >= 21
			NOT = { has_character_modifier = special_priviligues_timer }
		}
		tooltip_info = learning
		FROM = { remove_character_modifier = granted_priviligues }
		hidden_tooltip = {
			add_character_modifier = {
				name = special_priviligues_timer
				years = 12
				hidden = yes
			}
		}
	}


	option = { #normal option
		name = EVTOPTIONHDARKAGESA006
		custom_tooltip = { text = custom_tooltipOPTIONHDARKAGESA006 }
		random_list = {
		
		
			3 = { #succesful revocation
			#Cardolam
				modifier = {
					factor = 1.5
					has_education_learning_trigger = yes
				}			
				modifier = { 
					factor = 1.25
					learning = 12
				}
				modifier = { 
					factor = 1.35
					learning = 15
				}
				modifier = { 
					factor = 1.5
					learning = 18
				}
				modifier = { 
					factor = 1.75
					learning = 21
				}

				modifier = { 
					factor = 0
					FROM = { has_character_modifier = rebeled_against_liege }
					NOT = { FROM = { prisoner = yes } }
				}
				
				FROM = { 
					remove_character_modifier = granted_priviligues 
					
					opinion = {
						modifier = opinion_liege_revoked_privilige_2
						who = liege
					}
				}
				
				#Cardolan
				any_vassal = {
					limit = {
						has_character_modifier = granted_priviligues
					}
					opinion = {
						modifier = opinion_liege_revoked_privilige
						who = liege
						years = 7
					}
				}
					
			}
				
			3 = { #failed revocation
				modifier = { 
					factor = 0
					FROM = { prisoner = yes }
				}
				modifier = { 
					factor = 0
					has_opinion_modifier = { who = FROM modifier = opinion_traitor }
				}
				modifier = { 
					factor = 0
					FROM = { has_character_modifier = rebeled_against_liege }
				}
				FROM = {
					opinion = {
						modifier = opinion_tried_to_revoke_my_privilige
						who = liege
						years = 15
					}
				}
				hidden_tooltip = {
					priviliges_modifier_timer_effect = yes
				}
			}
			
			1 = { #rebellion
				modifier = {
					factor = 2
					FROM = { trait = ambitious }
				}
				modifier = {
					factor = 1.5
					FROM = { trait = brave }
				}				
				modifier = {
					factor = 0.2
					FROM = { trait = content }
				}				
				modifier = {
					factor = 0.1
					FROM = { trait = craven }
				}
				modifier = { 
					factor = 0
					FROM = { prisoner = yes }
				}
				modifier = {
					factor = 0
					FROM = {
						NOT = { relative_power_to_liege = 0.15 }
					}
				}
				modifier = {
					factor = 1.25
					FROM = {
						relative_power_to_liege = 0.20
						NOT = { relative_power_to_liege = 0.30 }
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						relative_power_to_liege = 0.30
						NOT = { relative_power_to_liege = 0.40 }
					}
				}
				modifier = {
					factor = 1.75
					FROM = {
						relative_power_to_liege = 0.40
						NOT = { relative_power_to_liege = 0.50 }
					}
				}
				modifier = {
					factor = 2
					FROM = {
						relative_power_to_liege = 0.50
						NOT = { relative_power_to_liege = 0.60 }
					}
				}
				FROM = {
					unsafe_war = {
						target = ROOT
						casus_belli = bid_for_independence
					}
				}
				
				letter_event = { id = sdarkages.016 days = 1 }
				
				hidden_tooltip = {
					priviliges_modifier_timer_effect = yes
					FROM = { character_event = { id = sdarkages.07 } } #spawn special troops
				}
			}
		}
	}

	option = { #FORCE WAR
	
		name = EVTOPTIONHDARKAGESB006
		trigger = { 
			NOT = { has_opinion_modifier = { who = FROM modifier = opinion_traitor } }
		}
		custom_tooltip = { text = custom_tooltipOPTIONHDARKAGESB006 }
		prestige = -150
		#Cardolan
		if = {
			limit = {
				NOT = { trait = arbitrary }
			}
			add_trait = arbitrary
		}
		
		if = {
			limit = {
				ROOT = { NOT = { has_opinion_modifier = { who = FROM modifier = opinion_traitor } } }
			}
			any_vassal = {
				limit = {
					NOT = { character = FROM }
					has_character_modifier = granted_priviligues
					
				}
				opinion = {
					who = ROOT
					modifier = opinion_liege_revoked_privilige_2
					years = 30
				}
			}
		}
						
		unsafe_war = {
			target = FROM
			casus_belli = bid_for_priviliges
		}
					
		FROM = { 
			opinion = { modifier = opinion_liege_is_a_tyrant who = ROOT years = 15 }
			character_event = { id = sdarkages.07 } #special troops
		}
		
		hidden_tooltip = {
			any_vassal = {
				limit = {
					has_character_modifier = granted_priviligues
				}
				character_event = { id = sdarkages.08 days = 15 } #war declaration to help vassal
			}
			ROOT = {
				priviliges_modifier_timer_effect = yes
				character_event = { id = sdarkages.09 days = 1 } #clear traitor opinion
			}
		}
	}
	
	option = { #FORCE WAR WITH TRAITOR OPINION
	
		name = EVTOPTIONHDARKAGESBB006
		trigger = { 
			has_opinion_modifier = { who = FROM modifier = opinion_traitor }
		}
		tooltip_info_custom =  custom_tooltipOPTIONHDARKAGESBB006 
		
		if = {
			limit = {
				ROOT = { NOT = { has_opinion_modifier = { who = FROM modifier = opinion_traitor } } }
			}
			any_vassal = {
				limit = {
					NOT = { character = FROM }
					has_character_modifier = granted_priviligues
					
				}
				opinion = {
					who = ROOT
					modifier = opinion_liege_revoked_privilige_2
					years = 30
				}
			}
		}
						
		unsafe_war = {
			target = FROM
			casus_belli = bid_for_priviliges
		}
					
		FROM = { 
			opinion = { modifier = opinion_liege_is_a_tyrant who = ROOT years = 15 }
			character_event = { id = sdarkages.07 } #special troops
		}
		
		hidden_tooltip = {
			any_vassal = {
				limit = {
					has_character_modifier = granted_priviligues
				}
				character_event = { id = sdarkages.08 days = 15 } #war declaration to help vassal
			}
			ROOT = {
				priviliges_modifier_timer_effect = yes
				character_event = { id = sdarkages.09 days = 1 } #clear traitor opinion
			}
		}
	}
		
			
	option = {
		name = EVTOPTIONHDARKAGESD006
			
	}
}


#vassal rebellion with spawned troops
character_event = { 
	id = sdarkages.07
	hide_window = yes
	is_triggered_only = yes
	
	
	immediate = {
		spawn_troops = yes
	}
}



#vassals' event to help fellow vassal
character_event = { 
	id = sdarkages.08
	hide_window = yes
	is_triggered_only = yes
	
	immediate = { 
		
	}
	
	option = { #join war
		ai_chance = {
			factor = 1
			#Carlos
			modifier = {
				factor = 0
				OR = {
					is_friend = FROM
					is_rival = FROMFROM
					opinion = { who = FROM	value = 30 }
				}
			}
			modifier = {
				factor = 1.75
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = greedy
			}
			modifier = {
				factor = 3
				trait = ambitious
			}
			modifier = {
				factor = 1.5
				trait = envious
			}
			modifier = {
				factor = 3.5
				trait = paranoid
			}
			modifier = {
				factor = 2
				is_friend = FROMFROM
			}
			modifier = {
				factor = 2
				is_rival = FROM
			}
			modifier = {
				factor = 1.25
				relative_power_to_liege = 0.15
				NOT = { opinion = { who = FROM	value = 0 } }
			}
			modifier = {
				factor = 1.35
				relative_power_to_liege = 0.25
				NOT = { opinion = { who = FROM	value = 0 } }				
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.35
				NOT = { opinion = { who = FROM	value = 0 } }				
			}
			modifier = {
				factor = 1.75
				relative_power_to_liege = 0.5
				NOT = { opinion = { who = FROM	value = 0 } }				
			}			
			modifier = {
				factor = 2
				opinion = { who = FROMFROM value = 20 }
			}
			modifier = {
				factor = 1.25
				intrigue = 12
			}
			modifier = {
				factor = 1.35
				intrigue = 15
			}
			modifier = {
				factor = 1.5
				intrigue = 18
			}
			modifier = {
				factor = 1.75
				intrigue = 21
			}
		}
					
		
		FROM = { letter_event = { id = sdarkages.010 } } #notify liege
		if = {
			limit = {
				FROM = { independent = yes }
			}
			set_defacto_liege = ROOT 
		}
		else = {

			FROM = {
				liege = {
					ROOT = {
						set_defacto_liege = PREV
					}
				}
			}
		}
		join_defender_wars = FROMFROM
	}

	
	option = { #don't join
		ai_chance = {
			factor = 2

			modifier = {
				factor = 1.5
				trait = patient
			}
			modifier = {
				factor = 2
				trait = trusting
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 1.75
				trait = content
			}			
			modifier = {
				factor = 1.5
				trait = kind
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM	value = 1 }
			}	
			modifier = {
				factor = 1.35
				opinion = { who = FROM	value = 10 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM	value = 20 }
			}
			modifier = {
				factor = 1.75
				NOT = { intrigue = 2 }
			}
			modifier = {
				factor = 1.5
				NOT = { intrigue = 4 }
			}
			modifier = {
				factor = 1.35
				NOT = { intrigue = 6 }
			}
			modifier = {
				factor = 1.25
				NOT = { intrigue = 8 }
			}			
		}
		
	}
}




#remove traitor opinion
character_event = { 
	id = sdarkages.09
	hide_window = yes
	is_triggered_only = yes
		
	immediate = {
		remove_opinion = { who = FROMFROM modifier = opinion_traitor }
	}
}


#liege notification other vassals with priviliges decided to help fellow vassal
letter_event = {
	id = sdarkages.010
	desc = EVTHSDARKAGES010
	title = DARKAGESTATES
	border = GFX_event_letter_frame_war
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES010
		custom_tooltip = { text = custom_tooltipOPTIONHDARKAGESA010 }
		opinion = {
			who = FROM
			modifier = opinion_traitor
			years = 2
		}
	}
}


#fired from targeted decision, liege agreed to give priviliges to player
letter_event = {
	id = sdarkages.011
	desc = EVTHSDARKAGES011
	title = DARKAGESTATES
	border = GFX_event_letter_frame_diplomacy
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES011
		add_character_modifier = { name = granted_priviligues duration = -1 inherit = yes }
		opinion = {
			who = FROM
			modifier = gave_me_priviligues
			years = 20
		}
		FROM = { apply_liege_priviligues = yes }
		set_truce = { who = FROM years = 8 }
		FROM = { set_truce = { who = ROOT years = 8 } }
	}
}


#fired from targeted decision, liege denied privilige request from player
letter_event = {
	id = sdarkages.012
	desc = EVTHSDARKAGES012
	title = DARKAGESTATES012
	border = GFX_event_letter_frame_diplomacy
	is_triggered_only = yes
	
	immediate = { 
		add_character_modifier = { name = priviligues_timer years = 20 inherit = yes }
	}
	
	option = { 
		name = EVTOPTIONHDARKAGES012
		FROM = {	
			opinion = {
				who = ROOT
				modifier = opinion_outraged
				years = 20
			}
		}
	}
	
	option = {
		name = EVTOPTIONHDARKAGESB012
		unsafe_war = {
			target = FROM
			casus_belli = bid_for_independence
		}
	}
}




#remove privilige from vassal that is not amongs more powerful anymore
character_event = {
	id = sdarkages.013
	desc = EVTHSDARKAGES013
	title = DARKAGESTATES
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES013
		tooltip = {
			remove_character_modifier = granted_priviligues
		}
		set_character_flag = hadpriviligestahl
		FROM = { character_event = { id = sdarkages.014 days = 2 } }
	}
}

#notify liege of vassal losing power status
character_event = {
	id = sdarkages.014
	desc = EVTHSDARKAGES014
	title = DARKAGESTATES014
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_diplomacy
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES014
		FROM = { remove_character_modifier = granted_priviligues }
		apply_liege_priviligues_2 = yes
	}
}

letter_event = {
	id = sdarkages.015
	desc = EVTHSDARKAGES015
	title = DARKAGESTATES
	border = GFX_event_letter_frame_war
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES015
		tooltip = {
			FROMFROM = {
				unsafe_war = {
					target = ROOT
					casus_belli = bid_for_independence
				}
			}
		}
	}
}

letter_event = {
	id = sdarkages.016
	desc = EVTHSDARKAGES016
	title = DARKAGESTATES016
	border = GFX_event_letter_frame_war
	is_triggered_only = yes
	
	
	option = { 
		name = EVTOPTIONHDARKAGES016
		
		tooltip = {
			FROMFROM = {
				unsafe_war = {
					target = ROOT
					casus_belli = bid_for_independence
				}
			}
		}
	}
}


################################################################################
#
#	EVENT TO CLEAN THE HARD WAY THE PRIVILEGES IN SOME PARTICULAR CIRCUNSTANCES
#
################################################################################

character_event = {			
	id = darkages.72582
	title = EVTNAME1972576
	desc = EVTDESC1972576
	picture = GFX_evt_da_bad_news
	border = GFX_event_normal_frame_war
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		independent = yes
		OR = {
			has_character_modifier = granted_priviligues
			has_character_modifier = granted_small_priviligues
		}
	}

	immediate = {
		remove_character_modifier = granted_priviligues
		remove_character_modifier = granted_small_priviligues		
	}
	
}

character_event = {			
	id = darkages.72583
	title = EVTNAME1972576
	desc = EVTDESC1972576
	picture = GFX_evt_da_bad_news
	border = GFX_event_normal_frame_war
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		num_of_titles = 1	
		OR = {
			has_character_modifier = liege_granted_priviligues_1
			has_character_modifier = liege_granted_priviligues_2
			has_character_modifier = liege_granted_priviligues_3
			has_character_modifier = liege_granted_priviligues_4
			has_character_modifier = liege_granted_priviligues_5
			has_character_modifier = liege_granted_priviligues_6			
		}
		
		OR = {
		
			NOT = {
				any_vassal = {
					OR = {
						has_character_modifier = granted_priviligues
						has_character_modifier = granted_small_priviligues
					}
					count = 1
				}
			}
			
			NOT = { num_of_vassals = 1 }
		}
	}

	immediate = {
		remove_character_modifier = liege_granted_priviligues_1
		remove_character_modifier = liege_granted_priviligues_2
		remove_character_modifier = liege_granted_priviligues_3
		remove_character_modifier = liege_granted_priviligues_4
		remove_character_modifier = liege_granted_priviligues_5
		remove_character_modifier = liege_granted_priviligues_6		
	}
	
}

character_event = {			
	id = darkages.72584
	title = EVTNAME1972576
	desc = EVTDESC1972576
	picture = GFX_evt_da_bad_news
	border = GFX_event_normal_frame_war
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		NOT = { num_of_titles = 1 }
		OR = {
			has_character_modifier = granted_priviligues
			has_character_modifier = granted_small_priviligues
			has_character_modifier = liege_granted_priviligues_1
			has_character_modifier = liege_granted_priviligues_2
			has_character_modifier = liege_granted_priviligues_3
			has_character_modifier = liege_granted_priviligues_4
			has_character_modifier = liege_granted_priviligues_5
			has_character_modifier = liege_granted_priviligues_6			
		}
	}

	immediate = {
		remove_character_modifier = granted_priviligues
		remove_character_modifier = granted_small_priviligues
		remove_character_modifier = liege_granted_priviligues_1
		remove_character_modifier = liege_granted_priviligues_2
		remove_character_modifier = liege_granted_priviligues_3
		remove_character_modifier = liege_granted_priviligues_4
		remove_character_modifier = liege_granted_priviligues_5
		remove_character_modifier = liege_granted_priviligues_6			
	}
	
}